$drawer_width_mobile: 85vw;
$drawer_width_desktop: 320px;
$transition_time: 0.4s;

.page {
	max-width: 100%;
	overflow-x: hidden;
	width: 100%;

	.wrap {
		display: flex;
		left: 0;
		position: relative;
		transition: left $transition_time;
		width: 100vw + $drawer_width_mobile;

		main {
			flex: 1;
		}

		nav {
			display: flex;
			flex: 0 0 $drawer_width_mobile;
		}
	}
}

.show_nav {
	clip: rect(0, 0, 0, 0);
	position: absolute;
}

label[for="show_nav"] {
	background: $color-ink;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1' x='0px' y='0px' width='30px' height='30px' viewBox='0 0 30 30' fill='#fff' enable-background='new 0 0 30 30' xml:space='preserve'><rect width='100%' height='6'/><rect y='24' width='100%' height='6'/><rect y='12' width='100%' height='6'/></svg>");
	background-size: cover;
	border: 0.7rem solid $color-ink;
	cursor: pointer;
	height: 4rem;
	position: absolute;
	right: 0;
	top: 0;
	transition: right $transition_time;
	width: 4rem;
	z-index: 999;
}

.show_nav:checked {
	+ label {
		right: 85%; // same % as $drawer_width_mobile (Safari miscalbulates scrollbar width :(
	}

	~ .wrap {
		left: -$drawer_width_mobile;
	}
}

@include not_for_mobile {

	body {
		.show_nav,
		label[for="show_nav"] {
			display: none;
		}
	}

	.page .wrap {
		left: 0;
		width: auto;

		nav {
			flex: 0 0 $drawer_width_desktop;
			order: 1;
		}
	}

}
